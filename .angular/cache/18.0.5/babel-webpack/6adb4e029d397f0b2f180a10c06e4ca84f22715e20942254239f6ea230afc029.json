{"ast":null,"code":"import { Subscription } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/core/services/olympic.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nfunction CountryDetailsComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const country_r1 = ctx.ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(country_r1);\n  }\n}\nexport class CountryDetailsComponent {\n  constructor(olympicService, route, router) {\n    this.olympicService = olympicService;\n    this.route = route;\n    this.router = router;\n    this.subscription = new Subscription(); // Stocker l'abonnement\n  }\n  ngOnInit() {\n    this.olympicService.getNumberOfParticipations().subscribe(numberOfEntries => {\n      this.numberOfEntries = numberOfEntries;\n      console.log(`Nb de participationsfldkjsfkj : ${numberOfEntries}`);\n    });\n    // Récupère l'id via la route et le transforme en number\n    this.countryId = Number(this.route.snapshot.params['id']);\n    console.log(this.countryId);\n    // Charger les détails du pays\n    this.countryDetails$ = this.olympicService.getOlympicById(this.countryId);\n    console.log('============================');\n    this.countryDetails$.subscribe(country => {\n      console.log('Détails du pays :', country);\n      // debugger\n      if (!country) {\n        this.router.navigate(['/404']); // Redirige si l'ID n'existe pas\n      } else {\n        country;\n        console.log('Détails du pays :', country);\n      }\n    });\n  }\n  // this.olympicService.getNumberOfAtheles().subscribe((numberOfAthletes: number) => {\n  //   this.numberOfAthletes = numberOfAthletes;\n  //   console.log(`Nb de participationsfldkjsfkj : ${numberOfAthletes}`);\n  // });\n  ngOnDestroy() {\n    this.subscription.unsubscribe(); // Désabonnement\n    console.log('CountryDetailsComponent détruit, abonnement nettoyé.');\n  }\n  static #_ = this.ɵfac = function CountryDetailsComponent_Factory(t) {\n    return new (t || CountryDetailsComponent)(i0.ɵɵdirectiveInject(i1.OlympicService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CountryDetailsComponent,\n    selectors: [[\"app-country-details\"]],\n    decls: 10,\n    vars: 5,\n    consts: [[1, \"relative\", \"text-white\", \"h-screen\", \"flex\", \"items-center\", \"justify-center\", \"bg-cover\", \"bg-center\", \"col-sm-12\"], [1, \"bg-black\", \"bg-opacity-50\", \"p-8\", \"rounded-lg\", \"max-w-3xl\", \"w-full\", \"text-center\", \"flex\", \"flex-col\", \"items-center\"], [1, \"text-2xl\", \"font-bold\"], [4, \"ngIf\"]],\n    template: function CountryDetailsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"section\", 0)(1, \"div\", 1)(2, \"h1\", 2);\n        i0.ɵɵtext(3, \"Medals per Countries\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(4, CountryDetailsComponent_div_4_Template, 3, 1, \"div\", 3);\n        i0.ɵɵpipe(5, \"async\");\n        i0.ɵɵelementStart(6, \"p\");\n        i0.ɵɵtext(7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"p\");\n        i0.ɵɵtext(9);\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(5, 3, ctx.country$));\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\"Number of Entries: \", ctx.numberOfEntries, \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\"Number of Athletes: \", ctx.numberOfAthletes, \"\");\n      }\n    },\n    dependencies: [i3.NgIf, i3.AsyncPipe],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["Subscription","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","country_r1","CountryDetailsComponent","constructor","olympicService","route","router","subscription","ngOnInit","getNumberOfParticipations","subscribe","numberOfEntries","console","log","countryId","Number","snapshot","params","countryDetails$","getOlympicById","country","navigate","ngOnDestroy","unsubscribe","_","ɵɵdirectiveInject","i1","OlympicService","i2","ActivatedRoute","Router","_2","selectors","decls","vars","consts","template","CountryDetailsComponent_Template","rf","ctx","ɵɵtemplate","CountryDetailsComponent_div_4_Template","ɵɵproperty","ɵɵpipeBind1","country$","ɵɵtextInterpolate1","numberOfAthletes"],"sources":["/Users/elyouzghinajia/devpment/OC/front-app-angular/src/app/pages/country-details/country-details.component.ts","/Users/elyouzghinajia/devpment/OC/front-app-angular/src/app/pages/country-details/country-details.component.html"],"sourcesContent":["import { Component, OnInit, OnDestroy, input } from '@angular/core';\nimport { Observable, Subscription } from 'rxjs';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Olympic } from 'src/app/core/models/Olympic';\nimport { OlympicService } from 'src/app/core/services/olympic.service';\n\n@Component({\n  selector: 'app-country-details',\n  templateUrl: './country-details.component.html',\n  styleUrl: './country-details.component.scss'\n})\nexport class CountryDetailsComponent implements OnInit{\n  countryId!: number;\n   countryDetails$!: Observable<Olympic | undefined>;\n\n  \n  private subscription: Subscription = new Subscription(); // Stocker l'abonnement\n\n  constructor(private olympicService: OlympicService, private route: ActivatedRoute, private router: Router) {}\n  // constructor(private route: ActivatedRoute, private olympicService: OlympicService) {}\n\n  public numberOfEntries!: number;\n  public numberOfAthletes!: number;\n  public olympics$!: Observable<Olympic[]>;\n\n\n  ngOnInit(): void {\n    this.olympicService.getNumberOfParticipations().subscribe((numberOfEntries: number) => {\n      this.numberOfEntries = numberOfEntries;\n      console.log(`Nb de participationsfldkjsfkj : ${numberOfEntries}`);\n    });\n\n    // Récupère l'id via la route et le transforme en number\n    this.countryId = Number(this.route.snapshot.params['id']); \n    console.log(this.countryId)\n\n    // Charger les détails du pays\n    this.countryDetails$! = this.olympicService.getOlympicById(this.countryId);\n    console.log('============================')\n    \n    this.countryDetails$.subscribe(country => {\n      console.log('Détails du pays :', country);\n      // debugger\n      if (!country) {\n        this.router.navigate(['/404']); // Redirige si l'ID n'existe pas\n      } else {\n         country\n        console.log('Détails du pays :', country);\n      }\n    });\n  }\n  \n  \n      // this.olympicService.getNumberOfAtheles().subscribe((numberOfAthletes: number) => {\n      //   this.numberOfAthletes = numberOfAthletes;\n      //   console.log(`Nb de participationsfldkjsfkj : ${numberOfAthletes}`);\n      // });\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe(); // Désabonnement\n    console.log('CountryDetailsComponent détruit, abonnement nettoyé.');\n  }\n\n}\n","<section class=\"relative text-white h-screen flex items-center justify-center bg-cover bg-center col-sm-12\">\n  <div class=\"bg-black bg-opacity-50 p-8 rounded-lg max-w-3xl w-full text-center flex flex-col items-center\">\n    <h1 class=\"text-2xl font-bold\">Medals per Countries</h1>\n    <div *ngIf=\"country$ | async as country\">\n      <p>{{ country }}</p>\n    </div>\n    <p>Number of Entries: {{ numberOfEntries }}</p>\n    <p>Number of Athletes: {{ numberOfAthletes }}</p>\n  </div>\n</section>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}